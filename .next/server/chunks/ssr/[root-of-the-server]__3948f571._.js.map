{"version":3,"sources":["../../../../hooks/useJovenes.ts","../../../../utils/validators.ts"],"sourcesContent":["'use client'\n\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport apiClient from '../utils/api-client'\nimport { Joven, ApiResponse, RegistroJovenFormData } from '../types/index'\n\nexport const useJovenes = () => {\n  const queryClient = useQueryClient()\n\n  // GET /jovenes - Listar todos los j√≥venes\n  const { data: jovenes, isLoading, error } = useQuery<Joven[]>({\n    queryKey: ['jovenes'],\n    queryFn: async () => {\n      const { data } = await apiClient.get<unknown>('/jovenes')\n      return (data as any).jovenes || (data as any).data || []\n    },\n  })\n\n  const useGetJoven = (id: string) => {\n    return useQuery<Joven | null>({\n      queryKey: ['jovenes', id],\n      queryFn: async () => {\n        try {\n          console.log('üîç Fetching details for joven_id:', id)\n          const { data } = await apiClient.get<unknown>(`/jovenes/${id}`)\n          console.log('üì° API Response Body:', data)\n\n          // El backend devuelve { status: 'success', joven: { ... } }\n          const result = (data as any)?.joven || (data as any)?.data || ((data as any) && !(data as any).status ? (data as any) : null)\n\n          console.log('‚úÖ Extracted Joven:', result)\n\n          if (!result) {\n            console.warn('‚ö†Ô∏è No youth data found in the response object')\n          }\n\n          return result as Joven | null\n        } catch (error: unknown) {\n          const errorMsg = error instanceof Error ? error.message : 'Error desconocido'\n          console.error('‚ùå Error fetching joven details:', errorMsg)\n          return null\n        }\n      },\n      enabled: !!id,\n    })\n  }\n\n  // POST /api/joven/registro - Crear nuevo joven (registro p√∫blico)\n  const createJovenPublic = useMutation({\n    mutationFn: (data: RegistroJovenFormData) =>\n      apiClient.post<ApiResponse<Joven>>('/joven/registro', data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['jovenes'] })\n    },\n  })\n\n  // PUT /jovenes/:id - Actualizar joven\n  const updateJoven = useMutation({\n    mutationFn: ({ id, data }: { id: string; data: Partial<Joven> }) =>\n      apiClient.put<ApiResponse<Joven>>(`/jovenes/${id}`, data),\n    onSuccess: (_, { id }) => {\n      queryClient.invalidateQueries({ queryKey: ['jovenes'] })\n      queryClient.invalidateQueries({ queryKey: ['jovenes', id] })\n    },\n  })\n\n  // DELETE /jovenes/:id - Eliminar joven\n  const deleteJoven = useMutation({\n    mutationFn: (id: string) =>\n      apiClient.delete<ApiResponse<void>>(`/jovenes/${id}`),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['jovenes'] })\n    },\n  })\n\n  return {\n    // Queries\n    jovenes,\n    isLoading,\n    error,\n    useGetJoven,\n\n    // Mutations\n    createJovenPublic,\n    updateJoven,\n    deleteJoven,\n  }\n}\n","/**\n * Validation utilities for forms\n */\n\nexport const validatorsColombia = {\n  // Validate Colombian phone number\n  validateCelular: (celular: string): boolean => {\n    const celularRegex = /^(\\+57|0057|57)?[0-9]{10}$/\n    return celularRegex.test(celular.replace(/\\D/g, ''))\n  },\n\n  // Format Colombian phone number\n  formatCelular: (celular: string): string => {\n    const digits = celular.replace(/\\D/g, '')\n    if (digits.length === 10) {\n      return `+57${digits}`\n    }\n    if (digits.length === 12 && digits.startsWith('57')) {\n      return `+${digits}`\n    }\n    return celular\n  },\n\n  // Calculate age from birth date\n  calculateAge: (birthDate: string): number => {\n    const today = new Date()\n    const birth = new Date(birthDate)\n    let age = today.getFullYear() - birth.getFullYear()\n    const monthDiff = today.getMonth() - birth.getMonth()\n\n    if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birth.getDate())) {\n      age--\n    }\n\n    return age\n  },\n\n  // Validate age range (12-35 years)\n  validateAgeRange: (birthDate: string): boolean => {\n    const age = validatorsColombia.calculateAge(birthDate)\n    return age >= 12 && age <= 35\n  },\n}\n"],"names":[],"mappings":"6JAEA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,2BAG0B,KACxB,IAAM,EAAc,CAAA,EAAA,EAAA,cAAA,AAAc,IAG5B,CAAE,KAAM,CAAO,WAAE,CAAS,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAU,CAC5D,SAAU,CAAC,UAAU,CACrB,QAAS,UACP,GAAM,MAAE,CAAI,CAAE,CAAG,MAAM,EAAA,OAAS,CAAC,GAAG,CAAU,YAC9C,OAAQ,EAAa,OAAO,EAAK,EAAa,IAAI,EAAI,EAAE,AAC1D,CACF,GAgCM,EAAoB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CACpC,WAAY,AAAC,GACX,EAAA,OAAS,CAAC,IAAI,CAAqB,kBAAmB,GACxD,UAAW,KACT,EAAY,iBAAiB,CAAC,CAAE,SAAU,CAAC,UAAU,AAAC,EACxD,CACF,GAqBA,MAAO,SAEL,YACA,QACA,EACA,YA9DkB,AAAC,GACZ,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAe,CAC5B,SAAU,CAAC,UAAW,EAAG,CACzB,QAAS,UACP,GAAI,CACF,QAAQ,GAAG,CAAC,oCAAqC,GACjD,GAAM,MAAE,CAAI,CAAE,CAAG,MAAM,EAAA,OAAS,CAAC,GAAG,CAAU,CAAC,SAAS,EAAE,EAAA,CAAI,EAC9D,QAAQ,GAAG,CAAC,wBAAyB,GAGrC,IAAM,EAAU,GAAc,OAAU,GAAc,OAAU,CAAF,EAAkB,CAAE,EAAa,MAAM,CAAI,EAAe,IAAA,CAAI,CAQ5H,OANA,QAAQ,GAAG,CAAC,qBAAsB,GAE9B,AAAC,GACH,KADW,GACH,IAAI,CAAC,iDAGR,CACT,CAAE,MAAO,EAAgB,CAGvB,OADA,QAAQ,KAAK,CAAC,kCADG,CACgC,YADf,MAAQ,EAAM,OAAO,CAAG,qBAEnD,IACT,CACF,EACA,QAAS,CAAC,CAAC,CACb,qBAuCA,EACA,YA3BkB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CAC9B,WAAY,CAAC,IAAE,CAAE,MAAE,CAAI,CAAwC,GAC7D,EAAA,OAAS,CAAC,GAAG,CAAqB,CAAC,SAAS,EAAE,EAAA,CAAI,CAAE,GACtD,UAAW,CAAC,EAAG,IAAE,CAAE,CAAE,IACnB,EAAY,iBAAiB,CAAC,CAAE,SAAU,CAAC,UAAU,AAAC,GACtD,EAAY,iBAAiB,CAAC,CAAE,SAAU,CAAC,UAAW,EAAG,AAAC,EAC5D,CACF,GAqBE,YAlBkB,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,CAC9B,WAAY,AAAC,GACX,EAAA,OAAS,CAAC,MAAM,CAAoB,CAAC,SAAS,EAAE,EAAA,CAAI,EACtD,UAAW,KACT,EAAY,iBAAiB,CAAC,CAAE,SAAU,CAAC,UAAU,AAAC,EACxD,CACF,EAaA,CACF,4BCnFO,IAAM,EAAqB,CAEhC,gBAAiB,AAAC,GACK,AACd,6BAAa,IAAI,CAAC,EAAQ,OAAO,CAAC,MAAO,KAIlD,cAAe,AAAC,IACd,IAAM,EAAS,EAAQ,OAAO,CAAC,MAAO,WACtC,AAAsB,IAAI,CAAtB,EAAO,MAAM,CACR,CAAC,GAAG,EAAE,EAAA,CAAQ,CAED,KAAlB,EAAO,MAAM,EAAW,EAAO,UAAU,CAAC,MACrC,CAD4C,AAC3C,CAAC,EAAE,EAAA,CAAQ,CAEd,CACT,EAGA,aAAc,AAAC,IACb,IAAM,EAAQ,IAAI,KACZ,EAAQ,IAAI,KAAK,GACnB,EAAM,EAAM,WAAW,GAAK,EAAM,WAAW,GAC3C,EAAY,EAAM,QAAQ,GAAK,EAAM,QAAQ,GAMnD,OAJI,EAAY,GAAoB,IAAd,GAAmB,EAAM,OAAO,GAAK,EAAM,OAAO,EAAA,GAAK,AAC3E,IAGK,CACT,EAGA,iBAAkB,AAAC,IACjB,IAAM,EAAM,EAAmB,YAAY,CAAC,GAC5C,OAAO,GAAO,IAAM,GAAO,EAC7B,CACF"}